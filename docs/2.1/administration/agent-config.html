<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.1 docs-doc-page docs-doc-id-administration/agent-config" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Agent configuration | Woodpecker CI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://woodpecker-ci.org/docs/2.1/administration/agent-config"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" name="docsearch:version" content="2.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.1"><meta data-rh="true" property="og:title" content="Agent configuration | Woodpecker CI"><meta data-rh="true" name="description" content="Agents are configured by the command line or environment variables. At the minimum you need the following information:"><meta data-rh="true" property="og:description" content="Agents are configured by the command line or environment variables. At the minimum you need the following information:"><link data-rh="true" rel="canonical" href="https://woodpecker-ci.org/docs/2.1/administration/agent-config"><link data-rh="true" rel="alternate" href="https://woodpecker-ci.org/docs/2.1/administration/agent-config" hreflang="en"><link data-rh="true" rel="alternate" href="https://woodpecker-ci.org/docs/2.1/administration/agent-config" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Woodpecker CI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Woodpecker CI Atom Feed">





<link rel="icon" href="/img/favicon.ico" sizes="any">
<link rel="icon" href="/img/favicon.svg" type="image/svg+xml">

<link rel="alternate" type="application/rss+xml" href="/cookbook/rss.xml" title="Woodpecker CI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cookbook/atom.xml" title="Woodpecker CI Atom Feed"><link rel="stylesheet" href="/assets/css/styles.458665da.css">
<script src="/assets/js/runtime~main.05feab87.js" defer="defer"></script>
<script src="/assets/js/main.f6c97c51.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_aSKE" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_bMjt" style="background-color:var(--ifm-color-primary);color:var(--ifm-color-gray-900)" role="banner"><div class="announcementBarPlaceholder_Nlg3"></div><div class="content_tNYb announcementBarContent_G8P0"> If you like Woodpecker-CI, <a href="https://github.com/woodpecker-ci/woodpecker" rel="noopener noreferrer" target="_blank">give us a star on GitHub</a> ! ‚≠êÔ∏è</div><button type="button" aria-label="Close" class="clean-btn close closeButton_xEoy announcementBarClose_Axlu"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Woodpecker Logo" class="themedComponent_oprx themedComponent--light_pmb3"><img src="/img/logo.svg" alt="Woodpecker Logo" class="themedComponent_oprx themedComponent--dark_gucS"></div><b class="navbar__title text--truncate">Woodpecker</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/2.1/intro">Docs</a><a class="navbar__item navbar__link" href="/plugins">Plugins</a><a class="navbar__item navbar__link" href="/docs/next/migrations">Migrations</a><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/next/awesome">Awesome</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/cookbook">Cookbook</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2.1/intro">2.1.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/administration/agent-config">Next</a></li><li><a class="dropdown__link" href="/docs/administration/agent-config">2.4.x</a></li><li><a class="dropdown__link" href="/docs/2.3/administration/agent-config">2.3.x</a></li><li><a class="dropdown__link" href="/docs/2.2/administration/agent-config">2.2.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.1/administration/agent-config">2.1.x</a></li><li><a class="dropdown__link" href="/docs/2.0/administration/agent-config">2.0.x</a></li><li><a class="dropdown__link" href="/docs/1.0/administration/agent-config">1.0.x</a></li></ul></div><a href="https://github.com/woodpecker-ci/woodpecker" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://opencollective.com/woodpecker-ci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">üß° Sponsor Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_mRHH colorModeToggle_Dv8w"><button class="clean-btn toggleButton_aXgt toggleButtonDisabled_gVTD" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SrCw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_MKeH"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_SrOL"><div class="navbar__search searchBarContainer_Rmbr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Y9O0 searchBarLoadingRing_FBEp"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_SJ3J"><div class="docsWrapper_R9Qf"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_fvJm" type="button"></button><div class="docRoot_hqOg"><aside class="theme-doc-sidebar-container docSidebarContainer_S4FI"><div class="sidebarViewport_se1y"><div class="sidebar_PUQ3"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_KQd7 menuWithAnnouncementBar_ACfV"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.1/intro">Welcome to Woodpecker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/2.1/usage/intro">Usage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/intro">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.1/usage/plugins/plugins">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/terminiology">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/workflow-syntax">Workflow syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/workflows">Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/matrix-workflows">Matrix workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/secrets">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/registries">Registries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/cron">Cron</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/environment">Environment variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/volumes">Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/project-settings">Project settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/badges">Status Badges</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/usage/advanced-usage">Advanced usage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/2.1/administration/deployment/overview">Administration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.1/administration/deployment/overview">Deployment</a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.1/administration/addons/overview">Addons</a><button aria-label="Expand sidebar category &#x27;Addons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/server-config">Server configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.1/administration/forges/overview">Forges</a><button aria-label="Expand sidebar category &#x27;Forges&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.1/administration/agent-config">Agent configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/2.1/administration/backends/docker">Backends</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/database">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/encryption">Secrets encryption</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/ssl">SSL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/proxy">Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/autoscaler">Autoscaler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/prometheus">Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.1/administration/external-configuration-api">External Configuration API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.1/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.1/migrations">Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.1/awesome">Awesome Woodpecker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/2.1/development/getting-started">Development</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_BHse"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_AlwR"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Woodpecker CI<!-- --> <b>2.1.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/administration/agent-config">latest version</a></b> (<!-- -->2.4.x<!-- -->).</div></div><div class="docItemContainer_vVns"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_sr6H" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_qO3s"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Administration</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Agent configuration</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.1.x</span><div class="tocCollapsible_tHbb theme-doc-toc-mobile tocMobile_rixa"><button type="button" class="clean-btn tocCollapsibleButton_OKbg">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Agent configuration</h1>
<p>Agents are configured by the command line or environment variables. At the minimum you need the following information:</p>
<div class="language-diff codeBlockContainer_WFWm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_lebC">docker-compose.yml</div><div class="codeBlockContent_k6Qg"><pre tabindex="0" class="prism-code language-diff codeBlock_RSXO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_V4ds"><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-agent:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     - woodpecker-agent-config:/etc/woodpecker</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_SERVER=localhost:9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">     - WOODPECKER_AGENT_SECRET=&quot;your-shared-secret-goes-here&quot;</span><br></span></code></pre><div class="buttonGroup_SDyA"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_qJod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YZLk"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VBo5"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following are automatically set and can be overridden:</p>
<ul>
<li>WOODPECKER_HOSTNAME if not set, becomes the OS&#x27; hostname</li>
<li>WOODPECKER_MAX_WORKFLOWS if not set, defaults to 1</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_DZPJ" id="workflows-per-agent">Workflows per agent<a href="#workflows-per-agent" class="hash-link" aria-label="Direct link to Workflows per agent" title="Direct link to Workflows per agent">‚Äã</a></h2>
<p>By default, the maximum workflows that are executed in parallel on an agent is 1. If required, you can add <code>WOODPECKER_MAX_WORKFLOWS</code> to increase your parallel processing for an agent.</p>
<div class="language-diff codeBlockContainer_WFWm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_lebC">docker-compose.yml</div><div class="codeBlockContent_k6Qg"><pre tabindex="0" class="prism-code language-diff codeBlock_RSXO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_V4ds"><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;3&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> woodpecker-agent:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> [...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   - WOODPECKER_SERVER=localhost:9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   - WOODPECKER_AGENT_SECRET=&quot;your-shared-secret-goes-here&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   - WOODPECKER_MAX_WORKFLOWS=4</span><br></span></code></pre><div class="buttonGroup_SDyA"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_qJod" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YZLk"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_VBo5"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_DZPJ" id="agent-registration">Agent registration<a href="#agent-registration" class="hash-link" aria-label="Direct link to Agent registration" title="Direct link to Agent registration">‚Äã</a></h2>
<p>When the agent starts it connects to the server using the token from <code>WOODPECKER_AGENT_SECRET</code>. The server identifies the agent and registers the agent in its database if it wasn&#x27;t connected before.</p>
<p>There are two types of tokens to connect an agent to the server:</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="using-system-token">Using system token<a href="#using-system-token" class="hash-link" aria-label="Direct link to Using system token" title="Direct link to Using system token">‚Äã</a></h3>
<p>A <em>system token</em> is a token that is used system-wide, e.g. when you set the same token in <code>WOODPECKER_AGENT_SECRET</code> on both the server and the agents.</p>
<p>In that case registration process would be as following:</p>
<ol>
<li>The first time the agent communicates with the server, it is using the system token</li>
<li>The server registers the agent in its database if not done before and generates a unique ID which is then sent back to the agent</li>
<li>The agent stores the received ID in a file (configured by <code>WOODPECKER_AGENT_CONFIG_FILE</code>)</li>
<li>At the following startups, the agent uses the system token <strong>and</strong> its received ID to identify itself to the server</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="using-agent-token">Using agent token<a href="#using-agent-token" class="hash-link" aria-label="Direct link to Using agent token" title="Direct link to Using agent token">‚Äã</a></h3>
<p>An <em>agent token</em> is a token that is used by only one particular agent. This unique token is applied to the agent by <code>WOODPECKER_AGENT_SECRET</code>.</p>
<p>To get an <em>agent token</em> you have to register the agent manually in the server using the UI:</p>
<ol>
<li>The administrator registers a new agent manually at <code>Settings -&gt; Agents -&gt; Add agent</code>
<img decoding="async" loading="lazy" alt="Agent creation" src="/assets/images/new-agent-registration-7b4206770a43af4e97866adbda544258.png" width="2034" height="1478" class="img_wjyx">
<img decoding="async" loading="lazy" alt="Agent created" src="data:image/png;base64,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" width="2004" height="160" class="img_wjyx"></li>
<li>The generated token from the previous step has to be provided to the agent using <code>WOODPECKER_AGENT_SECRET</code></li>
<li>The agent will connect to the server using the provided token and will update its status in the UI:
<img decoding="async" loading="lazy" alt="Agent connected" src="data:image/png;base64,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" width="2012" height="164" class="img_wjyx"></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_DZPJ" id="all-agent-configuration-options">All agent configuration options<a href="#all-agent-configuration-options" class="hash-link" aria-label="Direct link to All agent configuration options" title="Direct link to All agent configuration options">‚Äã</a></h2>
<p>Here is the full list of configuration options and their default variables.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_server"><code>WOODPECKER_SERVER</code><a href="#woodpecker_server" class="hash-link" aria-label="Direct link to woodpecker_server" title="Direct link to woodpecker_server">‚Äã</a></h3>
<blockquote>
<p>Default: <code>localhost:9000</code></p>
</blockquote>
<p>Configures gRPC address of the server.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_username"><code>WOODPECKER_USERNAME</code><a href="#woodpecker_username" class="hash-link" aria-label="Direct link to woodpecker_username" title="Direct link to woodpecker_username">‚Äã</a></h3>
<blockquote>
<p>Default: <code>x-oauth-basic</code></p>
</blockquote>
<p>The gRPC username.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_agent_secret"><code>WOODPECKER_AGENT_SECRET</code><a href="#woodpecker_agent_secret" class="hash-link" aria-label="Direct link to woodpecker_agent_secret" title="Direct link to woodpecker_agent_secret">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>A shared secret used by server and agents to authenticate communication. A secret can be generated by <code>openssl rand -hex 32</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_agent_secret_file"><code>WOODPECKER_AGENT_SECRET_FILE</code><a href="#woodpecker_agent_secret_file" class="hash-link" aria-label="Direct link to woodpecker_agent_secret_file" title="Direct link to woodpecker_agent_secret_file">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>Read the value for <code>WOODPECKER_AGENT_SECRET</code> from the specified filepath, e.g. <code>/etc/woodpecker/agent-secret.conf</code></p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_log_level"><code>WOODPECKER_LOG_LEVEL</code><a href="#woodpecker_log_level" class="hash-link" aria-label="Direct link to woodpecker_log_level" title="Direct link to woodpecker_log_level">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>Configures the logging level. Possible values are <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>fatal</code>, <code>panic</code>, <code>disabled</code> and empty.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_debug_pretty"><code>WOODPECKER_DEBUG_PRETTY</code><a href="#woodpecker_debug_pretty" class="hash-link" aria-label="Direct link to woodpecker_debug_pretty" title="Direct link to woodpecker_debug_pretty">‚Äã</a></h3>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Enable pretty-printed debug output.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_debug_nocolor"><code>WOODPECKER_DEBUG_NOCOLOR</code><a href="#woodpecker_debug_nocolor" class="hash-link" aria-label="Direct link to woodpecker_debug_nocolor" title="Direct link to woodpecker_debug_nocolor">‚Äã</a></h3>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Disable colored debug output.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_hostname"><code>WOODPECKER_HOSTNAME</code><a href="#woodpecker_hostname" class="hash-link" aria-label="Direct link to woodpecker_hostname" title="Direct link to woodpecker_hostname">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>Configures the agent hostname.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_agent_config_file"><code>WOODPECKER_AGENT_CONFIG_FILE</code><a href="#woodpecker_agent_config_file" class="hash-link" aria-label="Direct link to woodpecker_agent_config_file" title="Direct link to woodpecker_agent_config_file">‚Äã</a></h3>
<blockquote>
<p>Default: <code>/etc/woodpecker/agent.conf</code></p>
</blockquote>
<p>Configures the path of the agent config file.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_max_workflows"><code>WOODPECKER_MAX_WORKFLOWS</code><a href="#woodpecker_max_workflows" class="hash-link" aria-label="Direct link to woodpecker_max_workflows" title="Direct link to woodpecker_max_workflows">‚Äã</a></h3>
<blockquote>
<p>Default: <code>1</code></p>
</blockquote>
<p>Configures the number of parallel workflows.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_filter_labels"><code>WOODPECKER_FILTER_LABELS</code><a href="#woodpecker_filter_labels" class="hash-link" aria-label="Direct link to woodpecker_filter_labels" title="Direct link to woodpecker_filter_labels">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>Configures labels to filter pipeline pick up. Use a list of key-value pairs like <code>key=value,second-key=*</code>. <code>*</code> can be used as a wildcard. By default, agents provide three additional labels <code>platform=os/arch</code>, <code>hostname=my-agent</code> and <code>repo=*</code> which can be overwritten if needed. To learn how labels work, check out the <a href="/docs/2.1/usage/workflow-syntax#labels">pipeline syntax page</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_healthcheck"><code>WOODPECKER_HEALTHCHECK</code><a href="#woodpecker_healthcheck" class="hash-link" aria-label="Direct link to woodpecker_healthcheck" title="Direct link to woodpecker_healthcheck">‚Äã</a></h3>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Enable healthcheck endpoint.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_healthcheck_addr"><code>WOODPECKER_HEALTHCHECK_ADDR</code><a href="#woodpecker_healthcheck_addr" class="hash-link" aria-label="Direct link to woodpecker_healthcheck_addr" title="Direct link to woodpecker_healthcheck_addr">‚Äã</a></h3>
<blockquote>
<p>Default: <code>:3000</code></p>
</blockquote>
<p>Configures healthcheck endpoint address.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_keepalive_time"><code>WOODPECKER_KEEPALIVE_TIME</code><a href="#woodpecker_keepalive_time" class="hash-link" aria-label="Direct link to woodpecker_keepalive_time" title="Direct link to woodpecker_keepalive_time">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>After a duration of this time of no activity, the agent pings the server to check if the transport is still alive.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_keepalive_timeout"><code>WOODPECKER_KEEPALIVE_TIMEOUT</code><a href="#woodpecker_keepalive_timeout" class="hash-link" aria-label="Direct link to woodpecker_keepalive_timeout" title="Direct link to woodpecker_keepalive_timeout">‚Äã</a></h3>
<blockquote>
<p>Default: <code>20s</code></p>
</blockquote>
<p>After pinging for a keepalive check, the agent waits for a duration of this time before closing the connection if no activity.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_grpc_secure"><code>WOODPECKER_GRPC_SECURE</code><a href="#woodpecker_grpc_secure" class="hash-link" aria-label="Direct link to woodpecker_grpc_secure" title="Direct link to woodpecker_grpc_secure">‚Äã</a></h3>
<blockquote>
<p>Default: <code>false</code></p>
</blockquote>
<p>Configures if the connection to <code>WOODPECKER_SERVER</code> should be made using a secure transport.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_grpc_verify"><code>WOODPECKER_GRPC_VERIFY</code><a href="#woodpecker_grpc_verify" class="hash-link" aria-label="Direct link to woodpecker_grpc_verify" title="Direct link to woodpecker_grpc_verify">‚Äã</a></h3>
<blockquote>
<p>Default: <code>true</code></p>
</blockquote>
<p>Configures if the gRPC server certificate should be verified, only valid when <code>WOODPECKER_GRPC_SECURE</code> is <code>true</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_backend"><code>WOODPECKER_BACKEND</code><a href="#woodpecker_backend" class="hash-link" aria-label="Direct link to woodpecker_backend" title="Direct link to woodpecker_backend">‚Äã</a></h3>
<blockquote>
<p>Default: <code>auto-detect</code></p>
</blockquote>
<p>Configures the backend engine to run pipelines on. Possible values are <code>auto-detect</code>, <code>docker</code>, <code>local</code> or <code>kubernetes</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_addons">WOODPECKER_ADDONS<a href="#woodpecker_addons" class="hash-link" aria-label="Direct link to WOODPECKER_ADDONS" title="Direct link to WOODPECKER_ADDONS">‚Äã</a></h3>
<blockquote>
<p>Default: empty</p>
</blockquote>
<p>List of addon files. See <a href="/docs/2.1/administration/addons/overview">addons</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_backend_docker_"><code>WOODPECKER_BACKEND_DOCKER_*</code><a href="#woodpecker_backend_docker_" class="hash-link" aria-label="Direct link to woodpecker_backend_docker_" title="Direct link to woodpecker_backend_docker_">‚Äã</a></h3>
<p>See <a href="/docs/2.1/administration/backends/docker#configuration">Docker backend configuration</a></p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_backend_k8s_"><code>WOODPECKER_BACKEND_K8S_*</code><a href="#woodpecker_backend_k8s_" class="hash-link" aria-label="Direct link to woodpecker_backend_k8s_" title="Direct link to woodpecker_backend_k8s_">‚Äã</a></h3>
<p>See <a href="/docs/2.1/administration/backends/kubernetes#general-configuration">Kubernetes backend configuration</a></p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_backend_local_"><code>WOODPECKER_BACKEND_LOCAL_*</code><a href="#woodpecker_backend_local_" class="hash-link" aria-label="Direct link to woodpecker_backend_local_" title="Direct link to woodpecker_backend_local_">‚Äã</a></h3>
<p>See <a href="/docs/2.1/administration/backends/local#further-configuration">Local backend configuration</a></p>
<h2 class="anchor anchorWithStickyNavbar_DZPJ" id="advanced-settings">Advanced Settings<a href="#advanced-settings" class="hash-link" aria-label="Direct link to Advanced Settings" title="Direct link to Advanced Settings">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_eqYN alert alert--warning"><div class="admonitionHeading__Ofx"><span class="admonitionIcon_I3Vy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_TdcK"><p>Only change these If you know what you do.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_connect_retry_count"><code>WOODPECKER_CONNECT_RETRY_COUNT</code><a href="#woodpecker_connect_retry_count" class="hash-link" aria-label="Direct link to woodpecker_connect_retry_count" title="Direct link to woodpecker_connect_retry_count">‚Äã</a></h3>
<blockquote>
<p>Default: <code>5</code></p>
</blockquote>
<p>Configures number of times agent retries to connect to the server.</p>
<h3 class="anchor anchorWithStickyNavbar_DZPJ" id="woodpecker_connect_retry_delay"><code>WOODPECKER_CONNECT_RETRY_DELAY</code><a href="#woodpecker_connect_retry_delay" class="hash-link" aria-label="Direct link to woodpecker_connect_retry_delay" title="Direct link to woodpecker_connect_retry_delay">‚Äã</a></h3>
<blockquote>
<p>Default: <code>2s</code></p>
</blockquote>
<p>Configures delay between agent connection retries to the server.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/woodpecker-ci/woodpecker/edit/main/docs/versioned_docs/version-2.1/30-administration/15-agent-config.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mLoj" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_yk0a"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/2.1/administration/forges/bitbucket"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Bitbucket</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/2.1/administration/backends/docker"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker backend</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_hHf_ thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#workflows-per-agent" class="table-of-contents__link toc-highlight">Workflows per agent</a></li><li><a href="#agent-registration" class="table-of-contents__link toc-highlight">Agent registration</a><ul><li><a href="#using-system-token" class="table-of-contents__link toc-highlight">Using system token</a></li><li><a href="#using-agent-token" class="table-of-contents__link toc-highlight">Using agent token</a></li></ul></li><li><a href="#all-agent-configuration-options" class="table-of-contents__link toc-highlight">All agent configuration options</a><ul><li><a href="#woodpecker_server" class="table-of-contents__link toc-highlight"><code>WOODPECKER_SERVER</code></a></li><li><a href="#woodpecker_username" class="table-of-contents__link toc-highlight"><code>WOODPECKER_USERNAME</code></a></li><li><a href="#woodpecker_agent_secret" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AGENT_SECRET</code></a></li><li><a href="#woodpecker_agent_secret_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AGENT_SECRET_FILE</code></a></li><li><a href="#woodpecker_log_level" class="table-of-contents__link toc-highlight"><code>WOODPECKER_LOG_LEVEL</code></a></li><li><a href="#woodpecker_debug_pretty" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DEBUG_PRETTY</code></a></li><li><a href="#woodpecker_debug_nocolor" class="table-of-contents__link toc-highlight"><code>WOODPECKER_DEBUG_NOCOLOR</code></a></li><li><a href="#woodpecker_hostname" class="table-of-contents__link toc-highlight"><code>WOODPECKER_HOSTNAME</code></a></li><li><a href="#woodpecker_agent_config_file" class="table-of-contents__link toc-highlight"><code>WOODPECKER_AGENT_CONFIG_FILE</code></a></li><li><a href="#woodpecker_max_workflows" class="table-of-contents__link toc-highlight"><code>WOODPECKER_MAX_WORKFLOWS</code></a></li><li><a href="#woodpecker_filter_labels" class="table-of-contents__link toc-highlight"><code>WOODPECKER_FILTER_LABELS</code></a></li><li><a href="#woodpecker_healthcheck" class="table-of-contents__link toc-highlight"><code>WOODPECKER_HEALTHCHECK</code></a></li><li><a href="#woodpecker_healthcheck_addr" class="table-of-contents__link toc-highlight"><code>WOODPECKER_HEALTHCHECK_ADDR</code></a></li><li><a href="#woodpecker_keepalive_time" class="table-of-contents__link toc-highlight"><code>WOODPECKER_KEEPALIVE_TIME</code></a></li><li><a href="#woodpecker_keepalive_timeout" class="table-of-contents__link toc-highlight"><code>WOODPECKER_KEEPALIVE_TIMEOUT</code></a></li><li><a href="#woodpecker_grpc_secure" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GRPC_SECURE</code></a></li><li><a href="#woodpecker_grpc_verify" class="table-of-contents__link toc-highlight"><code>WOODPECKER_GRPC_VERIFY</code></a></li><li><a href="#woodpecker_backend" class="table-of-contents__link toc-highlight"><code>WOODPECKER_BACKEND</code></a></li><li><a href="#woodpecker_addons" class="table-of-contents__link toc-highlight">WOODPECKER_ADDONS</a></li><li><a href="#woodpecker_backend_docker_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_BACKEND_DOCKER_*</code></a></li><li><a href="#woodpecker_backend_k8s_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_BACKEND_K8S_*</code></a></li><li><a href="#woodpecker_backend_local_" class="table-of-contents__link toc-highlight"><code>WOODPECKER_BACKEND_LOCAL_*</code></a></li></ul></li><li><a href="#advanced-settings" class="table-of-contents__link toc-highlight">Advanced Settings</a><ul><li><a href="#woodpecker_connect_retry_count" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CONNECT_RETRY_COUNT</code></a></li><li><a href="#woodpecker_connect_retry_delay" class="table-of-contents__link toc-highlight"><code>WOODPECKER_CONNECT_RETRY_DELAY</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/usage/intro">Usage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/administration/deployment/overview">Server setup</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/fcMQqSMXJy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/#woodpecker:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://floss.social/@WoodpeckerCI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/woodpeckerci" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://translate.woodpecker-ci.org/engage/woodpecker-ci/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Translate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/woodpecker-ci/woodpecker" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ci.woodpecker-ci.org/repos/3780" target="_blank" rel="noopener noreferrer" class="footer__link-item">CI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opencollective.com/woodpecker-ci" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Collective<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ahwl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 Woodpecker CI. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>