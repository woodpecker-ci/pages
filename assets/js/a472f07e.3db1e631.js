"use strict";(self.webpackChunkwoodpecker=self.webpackChunkwoodpecker||[]).push([[5283],{43516:e=>{e.exports=JSON.parse('{"name":"NixOS remote builder","url":"https://codeberg.org/JohnWalkerx/nix-remote-builder-plugin","icon":"https://raw.githubusercontent.com/NixOS/nixos-artwork/master/logo/nix-snowflake.svg","description":"Plugin to use the nix store of a remote system to remote build given Nix flake paths","docs":"<p><a href=\\"https://woodpecker-ci.org\\">Woodpecker CI</a> plugin which uses the store of a remote NixOS system to build our given Nix flake paths.</p>\\n<p>The usecase is that the remote system acts as a builder and Nix binarycache. So we build our NixOS systems (or packages) on the remote system and keep the output in the nix store of the remote system.</p>\\n<p>Our benefits:</p>\\n<ul>\\n<li>For each build we use the persistent store of the remote system and get much faster builds because we use already build artefacts.</li>\\n<li>The result will stay in the Nix store of the remote machine. So we can serve this store as binary cache.</li>\\n</ul>\\n<h2>Settings</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>Settings Name</th>\\n<th>Default</th>\\n<th>Description</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>sshkey</td>\\n<td><em>none</em></td>\\n<td>SSH key for SSH authentification on remote system. This should be applied from a CI secret</td>\\n</tr>\\n<tr>\\n<td>username</td>\\n<td><em>none</em></td>\\n<td>Username on remote system</td>\\n</tr>\\n<tr>\\n<td>hostname</td>\\n<td><em>none</em></td>\\n<td>Hostname of remote system</td>\\n</tr>\\n<tr>\\n<td>sshport</td>\\n<td><em>none</em></td>\\n<td>SSH Port to connect on remote system</td>\\n</tr>\\n<tr>\\n<td>flakepaths</td>\\n<td><em>none</em></td>\\n<td>List of flakepaths to build separated by <code>,</code></td>\\n</tr>\\n</tbody></table>\\n<h2>Example</h2>\\n<pre><code class=\\"language-yaml\\">steps:\\n  remote-build:\\n    image: johnwalkerx/nix-remote-builder-plugin:latest\\n    pull: true\\n    settings:\\n      hostname: binarycache.example.com\\n      sshport: 22\\n      username: uploaduser\\n      sshkey:\\n        from_secret: sshkey\\n      flakepaths: &gt;-\\n        .#nixosConfigurations.machine1.config.system.build.toplevel,\\n        .#nixosConfigurations.machine2.config.system.build.toplevel\\n</code></pre>\\n<blockquote>\\n<p><strong>NOTE:</strong> Make sure to restrict usage of the secret to this specific docker image and select that only plugins can use this secrets.</p>\\n</blockquote>\\n","tags":["NixOS","build"],"author":"JohnWalkerx","containerImage":"johnwalkerx/nix-remote-builder-plugin","containerImageUrl":"https://hub.docker.com/r/johnwalkerx/nix-remote-builder-plugin","verified":false}')}}]);